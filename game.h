#ifndef GAME_H
#define GAME_H
#include "raylib.h"
#include <cstddef>
enum PowerUpType { EXTEND_PADDLE, SLOW_BALL, EXTRA_LIFE };

struct PowerUp {
    Vector2 position;
    PowerUpType type;
    bool active;
};

// Массив для хранения выпавших бонусов (например, до 10 штук одновременно)
inline PowerUp power_ups[10];
// Константы символов
constexpr char VOID = ' ';      // Пустота
constexpr char WALL = '#';      // Неразрушимая стена
constexpr char BLOCKS = '@';    // Обычный блок (кирпич)
constexpr char PADDLE = 'P';    // Точка появления ракетки
constexpr char BOUNDARY = '!';  // Граница
constexpr char BALL = '*';      // Точка появления мяча

// Структура уровня
struct level {
    size_t rows = 0, columns = 0;
    char* data = nullptr;
};

// Состояния игры (добавлен game_over_state для ТЗ)
enum game_state {
    menu_state,
    in_game_state,
    paused_state,
    victory_state,
    game_over_state
};

// --- ДАННЫЕ УРОВНЕЙ ---

// Уровень 1: Простой (9x13)
inline char level_1_data[] = {
    '#','#','#','#','#','#','#','#','#',
    '#',' ',' ',' ',' ',' ',' ',' ','#',
    '#',' ',' ',' ',' ',' ',' ',' ','#',
    '#',' ','@','@','@','@','@',' ','#',
    '#',' ',' ',' ',' ',' ',' ',' ','#',
    '#',' ',' ',' ',' ',' ',' ',' ','#',
    '#',' ',' ',' ',' ',' ',' ',' ','#',
    '#',' ',' ',' ',' ',' ',' ',' ','#',
    '#',' ',' ',' ',' ',' ',' ',' ','#',
    '#',' ',' ',' ','*',' ',' ',' ','#',
    '#',' ',' ',' ',' ',' ',' ',' ','#',
    '#',' ',' ','P',' ',' ',' ',' ','#',
    ' ',' ',' ',' ',' ',' ',' ',' ',' '
};
inline level level_1 = { 13, 9, level_1_data };

// Уровень 2: Колонны (13x13)
inline char level_2_data[] = {
    '#','#','#','#','#','#','#','#','#','#','#','#','#',
    '#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#',
    '#',' ','@',' ',' ',' ','@',' ',' ',' ','@',' ','#',
    '#',' ','@',' ','@',' ','@',' ','@',' ','@',' ','#',
    '#','#',' ',' ',' ',' ',' ',' ',' ',' ',' ','#','#',
    '#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#',
    '#',' ','@',' ',' ',' ','@',' ',' ',' ','@',' ','#',
    '#',' ','@',' ',' ',' ','@',' ',' ',' ','@',' ','#',
    '#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#',
    '#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#',
    '#',' ',' ',' ',' ',' ','*',' ',' ',' ',' ',' ','#',
    '#',' ',' ',' ',' ','P',' ',' ',' ',' ',' ',' ','#',
    ' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',
};
inline level level_2 = { 13, 13, level_2_data };

// Уровень 3: Шахматы (11x11) - СЛОЖНЕЕ
inline char level_3_data[] = {
    '#','#','#','#','#','#','#','#','#','#','#',
    '#',' ',' ',' ',' ',' ',' ',' ',' ',' ','#',
    '#',' ',' ','@',' ',' ',' ','@',' ',' ','#',
    '#',' ','@',' ','@',' ','@',' ','@',' ','#',
    '#',' ','@',' ',' ','@',' ',' ','@',' ','#',
    '#',' ','@',' ',' ',' ',' ',' ','@',' ','#',
    '#',' ',' ','@',' ',' ',' ','@',' ',' ','#',
    '#',' ',' ',' ','@','*','@',' ',' ',' ','#',
    '#',' ',' ',' ',' ','@',' ',' ',' ',' ','#',
    '#',' ',' ',' ','P',' ',' ',' ',' ',' ','#',
    ' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',
};
inline level level_3 = { 11, 11, level_3_data };

// Уровень 4: Лабиринт (11x9) - ЕЩЕ СЛОЖНЕЕ
inline char level_4_data[] = {
    '#','#','#','#','#','#','#','#','#',
    '#',' ','@','@','@','@','@',' ','#',
    '#','#',' ',' ',' ',' ',' ','#','#',
    '#','@','@','@','@','@','@','@','#',
    '#',' ',' ',' ',' ',' ',' ',' ','#',
    '#','@','@',' ',' ',' ','@','@','#',
    '#','#','#',' ',' ',' ','#','#','#',
    '#',' ',' ',' ','*',' ',' ',' ','#',
    '#',' ',' ',' ',' ',' ',' ',' ','#',
    '#',' ',' ',' ','P',' ',' ',' ','#',
    ' ',' ',' ',' ',' ',' ',' ',' ',' '
};
inline level level_4 = { 11, 9, level_4_data };

// Уровень 5: Финальная стена (11x11) - МАКСИМУМ БЛОКОВ
inline char level_5_data[] = {
    '#','#','#','#','#','#','#','#','#','#','#',
    '#',' ','@',' ','@',' ','@',' ','@',' ','#',
    '#','@',' ',' ',' ',' ',' ','@',' ','@','#',
    '#',' ',' ','#','#',' ','#','#',' ',' ','#',
    '#','@',' ','#',' ',' ',' ','#',' ','@','#',
    '#',' ','@',' ',' ',' ',' ',' ','@',' ','#',
    '#','@',' ',' ',' ',' ',' ',' ',' ','@','#',
    '#',' ',' ',' ',' ','*',' ',' ',' ',' ','#',
    '#','@',' ',' ',' ',' ',' ',' ',' ','@','#',
    '#',' ',' ',' ','P',' ',' ',' ',' ',' ','#',
    ' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '
};
inline level level_5 = { 11, 11, level_5_data };

// Настройки игры
inline constexpr size_t level_count = 5;
inline level levels[level_count] = {
    level_1, level_2, level_3, level_4, level_5
};

// Глобальные переменные состояния
inline enum game_state game_state = menu_state;

inline int lives = 3;// Добавили жизни (нужно для требования Game Over)
enum GameState {
    MENU,
    PLAYING,
    PAUSED,
    VICTORY,
    GAMEOVER,
    INSTRUCTIONS // если нужно
};extern GameState currentState; // Глобальное состояние игры
extern int menuSelection;      // Индекс выбранного пункта (0, 1 или 2)
#endif // GAME_H